{"version":3,"sources":["redux/Auth/AuthSelectors.js","components/PrivateRoute.js","components/PublicRouter.js","components/Navigation.js","components/AuthNav.js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/App/App.js","redux/PhoneBook/PhonebookReducers.js","redux/Auth/AuthSlice.js","redux/store.js","index.js","components/AppBar/AppBar.module.css","redux/Auth/AuthOperations.js","redux/PhoneBook/PhonebookActions.js"],"names":["authSelectors","getIsLoggedIn","state","auth","isLoggedIn","getUserName","user","name","getIsFetching","isFetching","PrivateRoute","component","redirectTo","children","routeProps","useSelector","to","PublicRoute","restricted","shouldRedirect","Navigation","Navbar","Nav","exact","className","styles","link","activeClassName","activeLink","AuthNav","UserMenu","dispatch","useDispatch","type","onClick","logOut","AppBar","AsyncHomeView","lazy","AsyncLoginView","AsyncRegisterView","AsyncContactsView","App","useEffect","fetchCurrentUser","fallback","color","height","width","timeout","display","loader","path","itemReducer","createReducer","id","number","addContact","payload","removeContact","filter","filterReducer","getFilterName","contactsReducer","combineReducers","items","authSlice","createSlice","initialState","email","token","extraReducers","register","fulfilled","logIn","_action","pending","rejected","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phonebook","phonebookReducer","devTools","process","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","module","exports","axios","defaults","baseURL","headers","common","Authorization","createAsyncThunk","credentials","a","rejectWithValue","post","data","_","thunkAPI","getState","persistedToken","get","createAction","uuidv4"],"mappings":"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","file":"static/js/main.8e87bd73.chunk.js","sourcesContent":["const getIsLoggedIn = (state) => state.auth.isLoggedIn;\r\nconst getUserName = (state) => state.auth.user.name;\r\nconst getIsFetching = (state) => state.auth.isFetching;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUserName,\r\n  getIsFetching,\r\n};\r\n\r\nexport default authSelectors;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport authSelectors from \"../redux/Auth/AuthSelectors\";\r\n\r\nexport default function PrivateRoute({\r\n  component: Component,\r\n  redirectTo = \"/\",\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport authSelectors from \"../redux/Auth/AuthSelectors\";\r\n\r\nexport default function PublicRoute({\r\n  restricted = false,\r\n  redirectTo = \"/\",\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"../components/AppBar/AppBar.module.css\";\r\nimport authSelectors from \"../redux/Auth/AuthSelectors\";\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Navbar>\r\n      <Nav>\r\n        <NavLink\r\n          exact\r\n          to=\"/\"\r\n          className={styles.link}\r\n          activeClassName={styles.activeLink}\r\n        >\r\n          Главная страница\r\n        </NavLink>\r\n        {isLoggedIn && (\r\n          <NavLink\r\n            to=\"/contacts\"\r\n            className={styles.link}\r\n            activeClassName={styles.activeLink}\r\n          >\r\n            Контакты\r\n          </NavLink>\r\n        )}\r\n      </Nav>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport styles from \"../components/AppBar/AppBar.module.css\";\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <Navbar>\r\n      <Nav>\r\n        <NavLink\r\n          to=\"/register\"\r\n          className={styles.link}\r\n          activeClassName={styles.activeLink}\r\n        >\r\n          Регистрация\r\n        </NavLink>\r\n        <NavLink\r\n          to=\"/login\"\r\n          className={styles.link}\r\n          activeClassName={styles.activeLink}\r\n        >\r\n          Войти\r\n        </NavLink>\r\n      </Nav>\r\n    </Navbar>\r\n  );\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { Navbar } from \"react-bootstrap\";\r\nimport authSelectors from \"../../redux/Auth/AuthSelectors\";\r\nimport { logOut } from \"../../redux/Auth/AuthOperations\";\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUserName);\r\n\r\n  return (\r\n    <Navbar>\r\n      <p className=\"greetings\">Добро пожаловать, {name} </p>\r\n      <button\r\n        className=\"btn-logout\"\r\n        type=\"button\"\r\n        onClick={() => dispatch(logOut())}\r\n      >\r\n        Выйти\r\n      </button>\r\n    </Navbar>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navbar } from \"react-bootstrap\";\r\nimport Navigation from \"../Navigation\";\r\nimport AuthNav from \"../AuthNav\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport authSelectors from \"../../redux/Auth/AuthSelectors\";\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Navbar>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </Navbar>\r\n  );\r\n}\r\n","import { useEffect, lazy, Suspense } from \"react\";\nimport { Switch } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"react-loader-spinner\";\nimport PrivateRoute from \"../PrivateRoute\";\nimport PublicRoute from \"../PublicRouter\";\nimport AppBar from \"../AppBar/AppBar\";\nimport { fetchCurrentUser } from \"../../redux/Auth/AuthOperations\";\nimport authSelectors from \"../../redux/Auth/AuthSelectors\";\nimport styles from \"../AppBar/AppBar.module.css\";\n\nconst AsyncHomeView = lazy(() =>\n  import(\"../../views/HomepageView\" /* webpackChunkName: \"home-page\"*/)\n);\nconst AsyncLoginView = lazy(() =>\n  import(\"../../views/LoginView\" /* webpackChunkName: \"login-page\"*/)\n);\nconst AsyncRegisterView = lazy(() =>\n  import(\"../../views/RegisterView\" /* webpackChunkName: \"register-page\"*/)\n);\nconst AsyncContactsView = lazy(() =>\n  import(\"../../views/ContactsView\" /* webpackChunkName: \"contacts-page\"*/)\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetching = useSelector(authSelectors.getIsFetching);\n\n  useEffect(() => {\n    dispatch(fetchCurrentUser());\n  }, [dispatch]);\n\n  return !isFetching ? (\n    <div>\n      <AppBar />\n\n      <Suspense\n        fallback={\n          <Loader\n            type=\"Rings\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n            display=\"flex\"\n            justify-content=\"center\"\n            className={styles.loader}\n          />\n        }\n      >\n        <Switch>\n          <PublicRoute exact path=\"/\">\n            <AsyncHomeView />\n          </PublicRoute>\n\n          <PublicRoute exact path=\"/register\" redirectTo=\"/contacts\" restricted>\n            <AsyncRegisterView />\n          </PublicRoute>\n\n          <PublicRoute exact path=\"/login\" redirectTo=\"/contacts\" restricted>\n            <AsyncLoginView />\n          </PublicRoute>\n\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <AsyncContactsView />\n          </PrivateRoute>\n        </Switch>\n      </Suspense>\n    </div>\n  ) : null;\n}\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport { addContact, removeContact, getFilterName } from \"./PhonebookActions\";\r\n\r\nconst itemReducer = createReducer(\r\n  [\r\n    { id: \"id-1\", name: \"Rosie Simpson\", number: \"459-12-56\" },\r\n    { id: \"id-2\", name: \"Hermione Kline\", number: \"443-89-12\" },\r\n    { id: \"id-3\", name: \"Eden Clements\", number: \"645-17-79\" },\r\n    { id: \"id-4\", name: \"Annie Copeland\", number: \"227-91-26\" },\r\n  ],\r\n  {\r\n    [addContact]: (state, { payload }) => [...state, payload],\r\n    [removeContact]: (state, { payload }) =>\r\n      state.filter(({ id }) => id !== payload),\r\n  }\r\n);\r\n\r\nconst filterReducer = createReducer(\"\", {\r\n  [getFilterName]: (state, { payload }) => (state = payload),\r\n});\r\n\r\nconst contactsReducer = combineReducers({\r\n  items: itemReducer,\r\n  filter: filterReducer,\r\n});\r\n\r\nexport default contactsReducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { register, logIn, logOut, fetchCurrentUser } from \"./AuthOperations\";\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetching: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  extraReducers: {\r\n    [register.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [logIn.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [logOut.fulfilled](state, _action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [fetchCurrentUser.pending](state) {\r\n      state.isFetching = true;\r\n    },\r\n    [fetchCurrentUser.fulfilled](state, { payload }) {\r\n      state.user = payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetching = false;\r\n    },\r\n    [fetchCurrentUser.rejected](state) {\r\n      state.isFetching = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport phonebookReducer from \"./PhoneBook/PhonebookReducers\";\r\nimport authReducer from \"./Auth/AuthSlice\";\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    phonebook: phonebookReducer,\r\n  },\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./components/App/App\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./redux/store\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../src/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"AppBar_nav__3N7mE\",\"link\":\"AppBar_link__1Qmva\",\"activeLink\":\"AppBar_activeLink__2ceYr AppBar_link__1Qmva\",\"loader\":\"AppBar_loader__3RX9S\"};","import axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nexport const token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport const register = createAsyncThunk(\r\n  \"auth/register\",\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post(\"/users/signup\", credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logIn = createAsyncThunk(\r\n  \"auth/login\",\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post(\"/users/login\", credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logOut = createAsyncThunk(\r\n  \"auth/logout\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post(\"/users/logout\");\r\n      token.unset();\r\n    } catch (error) {\r\n      return rejectWithValue(error.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchCurrentUser = createAsyncThunk(\r\n  \"auth/refresh\",\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get(\"/users/current\");\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error.data);\r\n    }\r\n  }\r\n);\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport const addContact = createAction(\r\n  \"contact/addContact\",\r\n  ({ name, number }) => ({\r\n    payload: {\r\n      id: uuidv4(),\r\n      name,\r\n      number,\r\n    },\r\n  })\r\n);\r\n\r\nexport const removeContact = createAction(\"contact/removeContact\");\r\nexport const getFilterName = createAction(\"contact/filteredContacts\");\r\n"],"sourceRoot":""}